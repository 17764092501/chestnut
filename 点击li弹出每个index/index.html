<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
	</head>
	<body>
		<ul>
			<li>0</li>
			<li>1</li>
			<li>2</li>
			<li>3</li>
			<li>4</li>
			<li>5</li>
		</ul>
		<script type="text/javascript">
			var objUl = document.getElementsByTagName('ul')[0];
			var objLi = document.getElementsByTagName('li');
			//闭包
//			for (var i = 0;i<objLi.length;i++) {
//				objLi[i].onclick = (function(j){
//					return function(){
//						alert(j);
//					}
//				})(i);
//			}
			//立即执行函数
			for(var i=0; i<objLi.length; i++){
			    (function(j){
			        objLi[j].onclick = function(){
			            alert(j);
			        };
			    })(i);
			}
			//事件委托
//			objUl.onclick = function(){
//				var e = event || window.event;
//				var target = e.target || e.srcElement;
//				if(target.nodeName.toLowerCase()=="li"){
//					//返回indexOf构造函数
//					alert([].indexOf);
//					//更改this对象为objLi
//					alert([].indexOf.call(objLi, target));
//				}
//			}
			//构造调用函数
//		    function func(objLi,i){
//		        objLi.onclick = function(){
//		            alert(i);
//		        }
//		    }
//		    for (var i =0;i<objLi.length;i++) {
//		    	func(objLi[i],i);
//		    }
			//设置index
//		    for (var i =0;i<objLi.length;i++) {
//		    	objLi[i].index = i;
//		    	objLi[i].onclick = function(){
//		    		var index = this.index;
//		            alert(index);
//		        }
//		    }
		</script>
	</body>
</html>
